{
  "config": "baseline",
  "repo_dir": "/tmp/swebench_iu299bow/matplotlib__matplotlib",
  "wall_time_seconds": 89,
  "git_diff": "diff --git a/lib/matplotlib/legend.py b/lib/matplotlib/legend.py\nindex 9e5b903d59..747047c57a 100644\n--- a/lib/matplotlib/legend.py\n+++ b/lib/matplotlib/legend.py\n@@ -286,6 +286,9 @@ handler_map : dict or None\n     The custom dictionary mapping instances or types to a legend\n     handler. This *handler_map* updates the default handler map\n     found at `matplotlib.legend.Legend.get_legend_handler_map`.\n+\n+draggable : bool, default: False\n+    Whether the legend can be dragged with the mouse.\n \"\"\")\n \n \n@@ -342,7 +345,8 @@ class Legend(Artist):\n         title_fontproperties=None,  # properties for the legend title\n         alignment=\"center\",       # control the alignment within the legend box\n         *,\n-        ncol=1  # synonym for ncols (backward compatibility)\n+        ncol=1,  # synonym for ncols (backward compatibility)\n+        draggable=False  # whether the legend can be dragged with the mouse\n     ):\n         \"\"\"\n         Parameters\n@@ -538,6 +542,7 @@ class Legend(Artist):\n \n         self.set_title(title, prop=title_prop_fp)\n         self._draggable = None\n+        self.set_draggable(draggable)\n \n         # set the text color\n \n",
  "claude_output": {
    "type": "result",
    "subtype": "success",
    "is_error": false,
    "duration_ms": 86625,
    "duration_api_ms": 90631,
    "num_turns": 21,
    "result": "The implementation is correct. Here's a summary of the changes made to `lib/matplotlib/legend.py`:\n\n1. **`__init__` signature** (line 349): Added `draggable=False` as a keyword-only argument alongside `ncol`.\n\n2. **`__init__` body** (line 545): Added `self.set_draggable(draggable)` right after `self._draggable = None`, which calls the existing `set_draggable` method.\n\n3. **`_legend_kw_doc`** (lines 290-291): Added documentation for the new `draggable` parameter so it appears in the docstrings for `Legend.__init__`, `Axes.legend`, and `Figure.legend`.\n\nUsers can now do:\n```python\nax.legend(draggable=True)\n# instead of:\nleg = ax.legend()\nleg.set_draggable(True)\n```",
    "stop_reason": null,
    "session_id": "3c187c68-1481-4a2d-875d-975ff26dd7d7",
    "total_cost_usd": 0.47693149999999995,
    "usage": {
      "input_tokens": 21,
      "cache_creation_input_tokens": 16166,
      "cache_read_input_tokens": 552162,
      "output_tokens": 3443,
      "server_tool_use": {
        "web_search_requests": 0,
        "web_fetch_requests": 0
      },
      "service_tier": "standard",
      "cache_creation": {
        "ephemeral_1h_input_tokens": 16166,
        "ephemeral_5m_input_tokens": 0
      },
      "inference_geo": "",
      "iterations": [],
      "speed": "standard"
    },
    "modelUsage": {
      "claude-sonnet-4-6": {
        "inputTokens": 21,
        "outputTokens": 3443,
        "cacheReadInputTokens": 552162,
        "cacheCreationInputTokens": 16166,
        "webSearchRequests": 0,
        "costUSD": 0.46329849999999995,
        "contextWindow": 200000,
        "maxOutputTokens": 32000
      },
      "claude-haiku-4-5-20251001": {
        "inputTokens": 12723,
        "outputTokens": 182,
        "cacheReadInputTokens": 0,
        "cacheCreationInputTokens": 0,
        "webSearchRequests": 0,
        "costUSD": 0.013633000000000003,
        "contextWindow": 200000,
        "maxOutputTokens": 32000
      }
    },
    "permission_denials": [],
    "uuid": "16289b3d-2116-45ff-933a-d4e3889fa683"
  },
  "session_id": "3c187c68-1481-4a2d-875d-975ff26dd7d7",
  "result_text": "The implementation is correct. Here's a summary of the changes made to `lib/matplotlib/legend.py`:\n\n1. **`__init__` signature** (line 349): Added `draggable=False` as a keyword-only argument alongside `ncol`.\n\n2. **`__init__` body** (line 545): Added `self.set_draggable(draggable)` right after `self._draggable = None`, which calls the existing `set_draggable` method.\n\n3. **`_legend_kw_doc`** (lines 290-291): Added documentation for the new `draggable` parameter so it appears in the docstrings for `Legend.__init__`, `Axes.legend`, and `Figure.legend`.\n\nUsers can now do:\n```python\nax.legend(draggable=True)\n# instead of:\nleg = ax.legend()\nleg.set_draggable(True)\n```",
  "total_cost_usd": 0.47693149999999995,
  "num_turns": 21
}